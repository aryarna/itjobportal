<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Job Details | IT JOB</title>
    <link rel="stylesheet" href="assets/css/styles.css">
    <style>
        /* Detail Page ke liye extra styling */
        .detail-container { margin: 50px auto; max-width: 900px; }
        .detail-card { background: white; padding: 40px; border-radius: 15px; box-shadow: var(--shadow); }
        .detail-header { border-bottom: 2px solid #f1f5f9; padding-bottom: 20px; margin-bottom: 20px; }
        .info-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin: 30px 0; }
        .info-item h4 { color: var(--text-light); font-size: 0.8rem; text-transform: uppercase; margin-bottom: 5px; }
        .info-item p { font-weight: 600; color: var(--text-dark); }
        .section-title { margin-top: 30px; margin-bottom: 10px; color: var(--primary-color); }
        .official-btn { display: inline-block; background: var(--primary-color); color: white; padding: 15px 35px; border-radius: 8px; text-decoration: none; font-weight: bold; margin-top: 30px; transition: 0.3s; }
        .official-btn:hover { background: var(--secondary-color); transform: translateY(-2px); }
    </style>
</head>
<body>

    <header class="main-header">
        <div class="container nav-wrapper">
            <a href="index.html" class="logo">IT <span>JOB</span></a>
            <a href="index.html" style="text-decoration: none; color: var(--primary-color); font-weight: bold;">‚Üê Back to Jobs</a>
        </div>
    </header>

    <div class="container detail-container">
        <div id="job-details-content" class="detail-card">
            <p>Loading job details...</p>
        </div>
    </div>

    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const jobId = urlParams.get('id');
        const detailsContainer = document.getElementById('job-details-content');

        if (!jobId) {
            detailsContainer.innerHTML = "<h2>Error: No Job ID provided.</h2>";
        } else {
            fetch('jobs/jobs-data.json')
                .then(res => {
                    if (!res.ok) throw new Error("Could not load jobs-data.json");
                    return res.json();
                })
                .then(data => {
                    const job = data.find(j => j.id == jobId);
                    if (job) {
                        renderDetails(job);
                    } else {
                        detailsContainer.innerHTML = "<h2>Job Not Found!</h2>";
                    }
                })
                .catch(err => {
                    detailsContainer.innerHTML = `<h2>Error loading data</h2><p>${err.message}</p>`;
                });
        }

        function renderDetails(job) {
            document.title = `${job.title} | ${job.company}`;
            detailsContainer.innerHTML = `
                <div class="detail-header">
                    <span class="category-tag">${job.category || 'IT Job'}</span>
                    <h1 style="font-size: 2.5rem; margin-top:10px;">${job.title}</h1>
                    <h3 style="color: var(--primary-color); margin-bottom: 10px;">${job.company}</h3>
                </div>

                <div class="info-grid">
                    <div class="info-item"><h4>Location</h4><p>üìç ${job.location}</p></div>
                    <div class="info-item"><h4>Salary</h4><p>üí∞ ‚Çπ${job.salary}L PA</p></div>
                    <div class="info-item"><h4>Posted Date</h4><p>üìÖ ${job.posted_date || 'Recently'}</p></div>
                    <div class="info-item"><h4>Last Date</h4><p>‚è≥ ${job.deadline || 'Open'}</p></div>
                </div>

                <h3 class="section-title">Job Description</h3>
                <p style="color: var(--text-light); line-height: 1.8;">${job.description}</p>

                <h3 class="section-title">Requirements</h3>
                <p style="color: var(--text-light);">${job.requirements}</p>
                
                <div class="tags" style="margin-top: 20px;">
                    ${job.tags.map(t => `<span class="tag">${t}</span>`).join('')}
                </div>

                <a href="${job.apply_link}" target="_blank" class="official-btn">Apply on Official Website ‚Üí</a>
            `;
        }
    </script>
</body>
</html>